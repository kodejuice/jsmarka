"use strict";$(document).ready(function(e){var t=e,i=deentify($$("[hidden]#code-1").html()),n=deentify($$("[hidden]#code-2").html()),a=$$("[hidden]#code-3").html(),o=isEmpty(cache("editor1"))?i:cache("editor1"),c=isEmpty(cache("editor2"))?n:cache("editor2"),r=isEmpty(cache("editor3"))?a:entify(cache("editor3")),d="true"===$$(".modal.runner").attr("data-exec-script"),s="true"===$$("div[data-edit-test]").html();d&&!s&&($$("#editor1").html(o),$$("#editor2").html(c),$$("#editor3").html(r));var h=[ace.edit("editor1"),ace.edit("editor2"),ace.edit("editor3")],l=[h[0],h[1],h[2]],u=l[0],m=l[1],f=l[2],$=["clouds_midnight","github","gruvbox","mono_industrial","solarized_dark","terminal","tomorrow","xcode","monokai"],b=0;ace.require("ace/ext/language_tools"),h.forEach(function(e,t){e.getSession().setMode("ace/mode/"+(t<2?"javascript":"xml")),$.forEach(function(t){return e.setTheme("ace/theme/"+t)}),e.setTheme("ace/theme/"+(cache("theme")||"monokai")),e.setFontSize(15),e.setOptions({enableBasicAutocompletion:!0,enableSnippets:!0,enableLiveAutocompletion:!0}),e.on("change",function(){d&&!s&&cache("editor"+(t+1),e.getValue())}),d||e.setReadOnly(!0)});var y=$$("#toggle_buttons");y.find("button").click(function(){var e=+t(this).data("index"),i=(e+1)%2;t(this).hasClass("btn-primary")||(t(this).addClass("btn-primary"),y.find("button:eq("+i+")").removeClass("btn-primary"),$$(".code[data-index="+i+"]").hide(),$$(".code[data-index="+e+"]").show())}),$$("button#change_theme").click(function(){u.setTheme("ace/theme/"+$[b]),m.setTheme("ace/theme/"+$[b]),f.setTheme("ace/theme/"+$[b]),cache("theme",$[b]),b=(b+1)%$.length}),$$("#reset_editor").click(function(){t.confirm({title:"Reset",content:"Reset editors to thier default content ?",theme:"material",backgroundDismiss:!0,icon:"glyphicon glyphicon-refresh",buttons:{confirm:function(){u.setValue(i),m.setValue(n),f.setValue(deentify(a))},cancel:function(){}}})}),$$("html, textarea").bind("keydown","Ctrl+Shift+E",function(e){e.preventDefault(),d&&t.confirm({title:"Clear all code editors",buttons:{ok:function(){h.forEach(function(e){return e.setValue("\n\n")})},cancel:function(){}}})});var p={editor1:beautify.js,editor2:beautify.js,editor3:beautify.html};$$("textarea").bind("keydown","Ctrl+b",function(e){if(e.preventDefault(),d){var i=t(this).parent().attr("id"),n=ace.edit(i);n.setValue("\n\n"+p[i].call(beautify,n.getValue(),{end_with_newline:!0}))}})});