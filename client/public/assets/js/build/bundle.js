(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
"use strict";$(function(t){function e(e){return new Promise(function(l,o){n.confirm({content:function(){return t.ajax({url:"/"+e.slug+"/edit",method:"post",timeout:14e3,data:{slug:e.new_slug,title:e.new_title,js_code1:e.jscode1,js_code2:e.jscode2,html_code:e.htmlcode,publish:e.publish,slugInput:e.slugInput}}).done(function(t){var e=void 0;(e=isErrorMessage(t))?o("Error: "+e):l(t)}).fail(function(t,e){o("Server Error, "+({error:"try again"}[e]||e))})},contentLoaded:function(t,e,n){i=!1,this.close()}})})}var n=t,i=!1,l="true"===$$("div[data-signedIn]").html(),o=$$("div[data-title]").html(),u=$$("div[data-slug]").html(),a=$$("div[data-published]").html(),r=$$("div[data-author]").html(),s=l?$$("div[data-user]").html():"";$$("button.edit#save_test").click(function(c){if(c.stopPropagation(),!i){i=!0;var d=entify(ace.edit("editor1").getValue()),f=entify(ace.edit("editor2").getValue()),m=entify(ace.edit("editor3").getValue());l?n.confirm({title:"Save edits",content:"\n\t\t\t\t\t<form>\n\t\t\t\t\t\t<div class=\"form-group\">\n\t\t\t\t\t\t\t<label>title</label>\n\t\t\t\t\t\t\t<input name='title' type='text' value=\""+o+'" class="title form-control" required/>\n\t\t\t\t\t\t\t<br>\n\t\t\t\t\t\t\t'+(r!==s?'<label>new slug</label>\t\t\t\t\t\t\t\t<input name="slug" type="text" value="'+u+'" class="slug form-control" required />':"")+'\n\n\t\t\t\t\t\t\t<div class="checkbox">\n\t\t\t\t\t\t\t\t<label>\n\t\t\t\t\t\t\t\t  <input class="publish" name="publish" type="checkbox" checked=\''+!!a+"'> Publish test\n\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</form>\n\t\t\t\t",buttons:{formSubmit:{text:"Submit",btnClass:"btn-dark",action:function(){var l=this.$content,o=r===s,a=null,c=null;o||(a=l.find("input.slug").val(),c=toSlug(a));var g=l.find("input.title").val(),h=l.find("input.publish").is(":checked");if(!o&&!c.length||!g.length)return i=!1,n.alert({title:"Error",content:"Fill in required fields",backgroundDismiss:!0,theme:"material"});e({slug:u,new_slug:c,new_title:g,jscode1:d,jscode2:f,htmlcode:m,publish:h,slugInput:a}).then(function(e){t.alert("Test edited, redirecting ..."),window.location=""+u}).catch(function(e){t.alert(e)})}},cancel:function(){i=!1}},onContentReady:function(){var t=this,e=t.$content,n=e.find("input.slug");e.find("input.title").on("keyup",function(){n.val(toSlug(this.value))}),e.find("form").on("submit",function(e){e.preventDefault(),t.$$formSubmit.trigger("click")})}}):t.alert({title:"Sign in",escapeKey:!1,content:"You must sign in first",buttons:{ok:function(){i=!1}}})}})});
},{}],2:[function(require,module,exports){

},{}]},{},[2,1])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJjbGllbnQvcHVibGljL2Fzc2V0cy9qcy9idWlsZC9lZGl0X3Rlc3QubWluLmpzIiwiY2xpZW50L3B1YmxpYy9hc3NldHMvanMvYnVpbGQvcnVuX3Rlc3QubWluLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FDQUE7O0FDQUEiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwiXCJ1c2Ugc3RyaWN0XCI7JChmdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe3JldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihsLG8pe24uY29uZmlybSh7Y29udGVudDpmdW5jdGlvbigpe3JldHVybiB0LmFqYXgoe3VybDpcIi9cIitlLnNsdWcrXCIvZWRpdFwiLG1ldGhvZDpcInBvc3RcIix0aW1lb3V0OjE0ZTMsZGF0YTp7c2x1ZzplLm5ld19zbHVnLHRpdGxlOmUubmV3X3RpdGxlLGpzX2NvZGUxOmUuanNjb2RlMSxqc19jb2RlMjplLmpzY29kZTIsaHRtbF9jb2RlOmUuaHRtbGNvZGUscHVibGlzaDplLnB1Ymxpc2gsc2x1Z0lucHV0OmUuc2x1Z0lucHV0fX0pLmRvbmUoZnVuY3Rpb24odCl7dmFyIGU9dm9pZCAwOyhlPWlzRXJyb3JNZXNzYWdlKHQpKT9vKFwiRXJyb3I6IFwiK2UpOmwodCl9KS5mYWlsKGZ1bmN0aW9uKHQsZSl7byhcIlNlcnZlciBFcnJvciwgXCIrKHtlcnJvcjpcInRyeSBhZ2FpblwifVtlXXx8ZSkpfSl9LGNvbnRlbnRMb2FkZWQ6ZnVuY3Rpb24odCxlLG4pe2k9ITEsdGhpcy5jbG9zZSgpfX0pfSl9dmFyIG49dCxpPSExLGw9XCJ0cnVlXCI9PT0kJChcImRpdltkYXRhLXNpZ25lZEluXVwiKS5odG1sKCksbz0kJChcImRpdltkYXRhLXRpdGxlXVwiKS5odG1sKCksdT0kJChcImRpdltkYXRhLXNsdWddXCIpLmh0bWwoKSxhPSQkKFwiZGl2W2RhdGEtcHVibGlzaGVkXVwiKS5odG1sKCkscj0kJChcImRpdltkYXRhLWF1dGhvcl1cIikuaHRtbCgpLHM9bD8kJChcImRpdltkYXRhLXVzZXJdXCIpLmh0bWwoKTpcIlwiOyQkKFwiYnV0dG9uLmVkaXQjc2F2ZV90ZXN0XCIpLmNsaWNrKGZ1bmN0aW9uKGMpe2lmKGMuc3RvcFByb3BhZ2F0aW9uKCksIWkpe2k9ITA7dmFyIGQ9ZW50aWZ5KGFjZS5lZGl0KFwiZWRpdG9yMVwiKS5nZXRWYWx1ZSgpKSxmPWVudGlmeShhY2UuZWRpdChcImVkaXRvcjJcIikuZ2V0VmFsdWUoKSksbT1lbnRpZnkoYWNlLmVkaXQoXCJlZGl0b3IzXCIpLmdldFZhbHVlKCkpO2w/bi5jb25maXJtKHt0aXRsZTpcIlNhdmUgZWRpdHNcIixjb250ZW50OlwiXFxuXFx0XFx0XFx0XFx0XFx0PGZvcm0+XFxuXFx0XFx0XFx0XFx0XFx0XFx0PGRpdiBjbGFzcz1cXFwiZm9ybS1ncm91cFxcXCI+XFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0PGxhYmVsPnRpdGxlPC9sYWJlbD5cXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHQ8aW5wdXQgbmFtZT0ndGl0bGUnIHR5cGU9J3RleHQnIHZhbHVlPVxcXCJcIitvKydcIiBjbGFzcz1cInRpdGxlIGZvcm0tY29udHJvbFwiIHJlcXVpcmVkLz5cXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHQ8YnI+XFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0JysociE9PXM/JzxsYWJlbD5uZXcgc2x1ZzwvbGFiZWw+XFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0PGlucHV0IG5hbWU9XCJzbHVnXCIgdHlwZT1cInRleHRcIiB2YWx1ZT1cIicrdSsnXCIgY2xhc3M9XCJzbHVnIGZvcm0tY29udHJvbFwiIHJlcXVpcmVkIC8+JzpcIlwiKSsnXFxuXFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0PGRpdiBjbGFzcz1cImNoZWNrYm94XCI+XFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0PGxhYmVsPlxcblxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdCAgPGlucHV0IGNsYXNzPVwicHVibGlzaFwiIG5hbWU9XCJwdWJsaXNoXCIgdHlwZT1cImNoZWNrYm94XCIgY2hlY2tlZD1cXCcnKyEhYStcIic+IFB1Ymxpc2ggdGVzdFxcblxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdDwvbGFiZWw+XFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0PC9kaXY+XFxuXFx0XFx0XFx0XFx0XFx0XFx0PC9kaXY+XFxuXFx0XFx0XFx0XFx0XFx0PC9mb3JtPlxcblxcdFxcdFxcdFxcdFwiLGJ1dHRvbnM6e2Zvcm1TdWJtaXQ6e3RleHQ6XCJTdWJtaXRcIixidG5DbGFzczpcImJ0bi1kYXJrXCIsYWN0aW9uOmZ1bmN0aW9uKCl7dmFyIGw9dGhpcy4kY29udGVudCxvPXI9PT1zLGE9bnVsbCxjPW51bGw7b3x8KGE9bC5maW5kKFwiaW5wdXQuc2x1Z1wiKS52YWwoKSxjPXRvU2x1ZyhhKSk7dmFyIGc9bC5maW5kKFwiaW5wdXQudGl0bGVcIikudmFsKCksaD1sLmZpbmQoXCJpbnB1dC5wdWJsaXNoXCIpLmlzKFwiOmNoZWNrZWRcIik7aWYoIW8mJiFjLmxlbmd0aHx8IWcubGVuZ3RoKXJldHVybiBpPSExLG4uYWxlcnQoe3RpdGxlOlwiRXJyb3JcIixjb250ZW50OlwiRmlsbCBpbiByZXF1aXJlZCBmaWVsZHNcIixiYWNrZ3JvdW5kRGlzbWlzczohMCx0aGVtZTpcIm1hdGVyaWFsXCJ9KTtlKHtzbHVnOnUsbmV3X3NsdWc6YyxuZXdfdGl0bGU6Zyxqc2NvZGUxOmQsanNjb2RlMjpmLGh0bWxjb2RlOm0scHVibGlzaDpoLHNsdWdJbnB1dDphfSkudGhlbihmdW5jdGlvbihlKXt0LmFsZXJ0KFwiVGVzdCBlZGl0ZWQsIHJlZGlyZWN0aW5nIC4uLlwiKSx3aW5kb3cubG9jYXRpb249XCJcIit1fSkuY2F0Y2goZnVuY3Rpb24oZSl7dC5hbGVydChlKX0pfX0sY2FuY2VsOmZ1bmN0aW9uKCl7aT0hMX19LG9uQ29udGVudFJlYWR5OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxlPXQuJGNvbnRlbnQsbj1lLmZpbmQoXCJpbnB1dC5zbHVnXCIpO2UuZmluZChcImlucHV0LnRpdGxlXCIpLm9uKFwia2V5dXBcIixmdW5jdGlvbigpe24udmFsKHRvU2x1Zyh0aGlzLnZhbHVlKSl9KSxlLmZpbmQoXCJmb3JtXCIpLm9uKFwic3VibWl0XCIsZnVuY3Rpb24oZSl7ZS5wcmV2ZW50RGVmYXVsdCgpLHQuJCRmb3JtU3VibWl0LnRyaWdnZXIoXCJjbGlja1wiKX0pfX0pOnQuYWxlcnQoe3RpdGxlOlwiU2lnbiBpblwiLGVzY2FwZUtleTohMSxjb250ZW50OlwiWW91IG11c3Qgc2lnbiBpbiBmaXJzdFwiLGJ1dHRvbnM6e29rOmZ1bmN0aW9uKCl7aT0hMX19fSl9fSl9KTsiLCIiXX0=
